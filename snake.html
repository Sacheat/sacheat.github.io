<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <title>Snake Game</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="css/styleSnake.css">
    <script src="https://cdn.tailwindcss.com"></script>
</head>

<body class="min-h-screen bg-gradient-to-br from-gray-900 via-gray-800 to-black text-white">

<!-- Header Sticky -->
<header class="w-full sticky top-0 z-50 bg-gray-900/90 backdrop-blur-md border-b border-gray-700 px-4 py-3 flex items-center justify-between md:hidden">
    <!-- Logo -->
    <h1 class="text-xl font-extrabold tracking-wide text-transparent bg-clip-text bg-gradient-to-r from-green-400 via-blue-500 to-purple-600">
        ğŸ Snake Game
    </h1>

    <!-- Pseudo joueur -->
    <span id="headerUsername" class="text-sm font-semibold text-gray-200"></span>

    <!-- Bouton retour -->
    <button id="headerMenuBtn" class="px-3 py-1 text-sm rounded-lg bg-indigo-600 hover:bg-indigo-700 transition">
        ğŸ  Menu
    </button>
</header>

<!-- Ã‰cran d'accueil -->
<div id="startScreen" class="min-h-screen w-full bg-gradient-to-br from-gray-900 via-gray-800 to-black text-white p-6 md:p-10 flex flex-col md:flex-row gap-6 md:gap-8">

    <!-- Colonne gauche : logo + pseudo + boutons -->
    <div class="flex flex-col items-center md:items-start space-y-8 md:w-1/4">
        <!-- Logo / Titre -->
        <h1 class="text-4xl md:text-5xl font-extrabold tracking-wide text-transparent bg-clip-text bg-gradient-to-r from-green-400 via-blue-500 to-purple-600 animate-pulse text-center md:text-left">
            ğŸ Snake Game
        </h1>

        <!-- Pseudo -->
        <div class="w-full max-w-xs">
            <label for="username" class="block text-lg font-medium mb-2">Entre ton pseudo :</label>
            <input id="username" type="text" placeholder="Ex: Sacha"
                   class="w-full px-4 py-2 rounded-lg text-gray-900 focus:outline-none focus:ring-2 focus:ring-indigo-500 shadow">
        </div>

        <!-- Boutons -->
        <div class="grid gap-3 w-full max-w-sm">
            <button onclick="startGame('classic')" class="modeBtn px-6 py-3 rounded-xl font-semibold bg-gradient-to-r from-green-500 to-green-700 hover:scale-105 hover:shadow-lg transition">ğŸ¯ Mode Classique</button>
            <button onclick="startGame('chrono')" class="modeBtn px-6 py-3 rounded-xl font-semibold bg-gradient-to-r from-blue-500 to-blue-700 hover:scale-105 hover:shadow-lg transition">â± Mode Chrono</button>
            <button onclick="startGame('lives')" class="modeBtn px-6 py-3 rounded-xl font-semibold bg-gradient-to-r from-red-500 to-red-700 hover:scale-105 hover:shadow-lg transition">â¤ï¸ Mode avec Vies</button>
            <button onclick="startGame('hardcore')" class="modeBtn px-6 py-3 rounded-xl font-semibold bg-gradient-to-r from-purple-500 to-purple-700 hover:scale-105 hover:shadow-lg transition">âš¡ Mode Hardcore</button>
            <button onclick="startGame('reverse-timer')" class="modeBtn px-6 py-3 rounded-xl font-semibold bg-gradient-to-r from-yellow-500 to-yellow-700 hover:scale-105 hover:shadow-lg transition">ğŸ”„ Timer inversÃ©</button>
        </div>
    </div>

    <!-- Colonne centre : stack rÃ¨gles + classement -->
    <div class="flex flex-col space-y-6 md:w-2/4 w-full">
        <!-- RÃ¨gles -->
        <div id="rulesCard" class="bg-gray-800/70 rounded-xl p-6 md:p-8 shadow-xl border border-gray-700 flex-1">
            <h2 class="text-2xl font-bold mb-4 flex items-center gap-2">ğŸ“œ RÃ¨gles</h2>
            <div id="rulesText" class="text-gray-300">Survole un mode pour voir ses rÃ¨gles...</div>
        </div>

        <!-- Classement -->
        <div id="leaderboardCard" class="bg-gray-800/70 rounded-xl p-6 md:p-8 shadow-xl border border-gray-700 flex-1">
            <div class="flex justify-between items-center mb-4">
                <h2 class="text-2xl font-bold flex items-center gap-2">ğŸ† Classement</h2>
                <div class="flex items-center gap-2 bg-gray-700/50 rounded px-2 py-1">
                    <button id="prevMode" class="px-2 py-1 hover:bg-gray-600 rounded">â¬…</button>
                    <span id="leaderboardMode" class="font-semibold text-sm"></span>
                    <button id="nextMode" class="px-2 py-1 hover:bg-gray-600 rounded">â¡</button>
                </div>
            </div>
            <ul id="leaderboardList" class="text-gray-300 text-sm space-y-2"></ul>
        </div>
    </div>

    <!-- Colonne droite : bonus/malus -->
    <div id="bonusCard" class="flex flex-col bg-gray-800/70 rounded-xl p-6 md:p-8 shadow-xl border border-gray-700 md:w-1/4 w-full">
        <h2 class="text-2xl font-bold mb-4 flex items-center gap-2">ğŸ Bonus & Malus</h2>
        <div id="bonusList" class="text-gray-300 text-sm space-y-3"></div>
    </div>

    <p class="absolute bottom-4 left-0 right-0 text-center text-sm text-gray-400">Â© 2025 - Snake Game by Sacha</p>
</div>

<!-- Conteneur du jeu -->
<div id="gameContainer"
     class="hidden min-h-screen w-full flex items-center justify-center
            bg-gradient-to-br from-gray-900 via-gray-800 to-black text-white p-6">

    <!-- Leaderboard Ã  gauche -->
    <div id="leaderboardInGame"
         class="hidden md:flex flex-col bg-gray-800/70 rounded-xl p-6 shadow-xl border border-gray-700 w-64 mr-8">
        <h2 class="text-xl font-bold mb-4 flex items-center gap-2">ğŸ† Classement</h2>
        <ul id="leaderboardListInGame" class="text-gray-300 text-sm space-y-2">
            <!-- Rempli par JS -->
        </ul>
    </div>

    <!-- Zone centrale : Canvas + Infos haut -->
    <div class="flex flex-col items-center">

        <!-- Joueur + Score -->
        <div class="flex flex-col items-center mb-6">
            <div id="playerName" class="mb-2 text-2xl font-bold text-purple-400 hidden"></div>

            <div class="flex gap-4 mb-3">
                <span id="score" class="px-6 py-2 bg-green-500 text-white text-lg font-semibold rounded-full shadow">Score : 0</span>
                <span id="highscore" class="px-6 py-2 bg-yellow-500 text-gray-900 text-lg font-semibold rounded-full shadow">Highscore : 0</span>
            </div>

            <div class="flex gap-4 mb-3">
                <span id="timer" class="px-6 py-2 bg-blue-500 text-white text-lg font-semibold rounded-full shadow hidden">â± Temps : 0</span>
                <span id="lives" class="px-6 py-2 bg-red-500 text-white text-lg font-semibold rounded-full shadow hidden">â¤ï¸ Vies : 3</span>
            </div>

            <div class="flex gap-4">
                <button id="pauseBtn"
                        class="px-5 py-2 bg-gradient-to-r from-indigo-500 to-blue-600 text-white rounded-lg shadow hover:scale-105 transition">
                    â¸ Pause
                </button>
                <button id="muteBtn"
                        class="px-5 py-2 bg-gradient-to-r from-gray-400 to-gray-600 text-white rounded-lg shadow hover:scale-105 transition">
                    ğŸ”Š Son
                </button>
                <button id="menuBtnInGame"
                        class="px-5 py-2 bg-gradient-to-r from-red-500 to-red-700 text-white rounded-lg shadow hover:scale-105 transition">
                    ğŸ  Menu
                </button>
            </div>
        </div>

        <!-- Canvas -->
        <canvas id="snakeGame" width="600" height="600"
                class="border-4 border-indigo-500 rounded-xl shadow-2xl bg-gradient-to-br from-gray-900 via-gray-800 to-black">
        </canvas>
    </div>

    <!-- HUD Ã  droite -->
    <div id="hudStats" class="flex flex-col gap-4 w-64 ml-8">
        <div class="bg-gray-800/70 p-4 rounded-lg shadow flex justify-between items-center">
            ğŸ® <span id="hudMode">Mode Classique</span>
        </div>
        <div class="bg-gray-800/70 p-4 rounded-lg shadow flex justify-between items-center">
            âš¡ <span id="hudSpeed">100 ms</span>
        </div>
        <div class="bg-gray-800/70 p-4 rounded-lg shadow flex justify-between items-center">
            ğŸ Longueur <span id="hudLength">1</span>
        </div>
        <div class="bg-gray-800/70 p-4 rounded-lg shadow flex justify-between items-center">
            ğŸ Pommes <span id="hudApples">0</span>
        </div>
        <div class="bg-gray-800/70 p-4 rounded-lg shadow flex justify-between items-center">
            âŒ¨ï¸ ContrÃ´les <span>â†‘ â†“ â† â†’</span>
        </div>
    </div>
</div>




<!-- Overlay Game Over -->
<div id="gameOverScreen" class="hidden fixed inset-0 z-50 flex items-center justify-center bg-black/80 backdrop-blur-sm">
    <div id="gameOverContent"
         class="w-[90%] max-w-md bg-gradient-to-b from-gray-900 to-gray-800 text-white rounded-2xl border border-indigo-500/50 shadow-[0_20px_60px_rgba(0,0,0,0.6)] p-8 text-center transform scale-90 opacity-0 transition-all duration-300">

        <div class="mb-2 text-4xl">ğŸ’€</div>
        <h2 class="text-3xl font-extrabold mb-1">Game Over</h2>

        <!-- Mode courant -->
        <p class="mb-1 text-sm text-gray-400">
            Mode : <span id="gameOverMode" class="font-semibold text-indigo-300">â€”</span>
        </p>

        <!-- Score final -->
        <p class="mb-4 text-lg">
            Score final : <span id="finalScore" class="font-bold text-yellow-400">0</span>
        </p>

        <!-- Temps Ã©coulÃ© / restant (rempli par le JS) -->
        <p id="timeInfo" class="mb-6 text-gray-300 italic"></p>

        <div class="flex flex-col gap-3">
            <button onclick="restartGame()" id="replayBtn"
                    class="px-6 py-3 bg-green-600 hover:bg-green-700 rounded-lg font-semibold shadow-md transition">
                ğŸ”„ Rejouer
            </button>
            <button id="menuBtn"
                    class="px-6 py-3 bg-gray-600 hover:bg-gray-700 rounded-lg font-semibold shadow-md transition">
                ğŸ  Changer de mode
            </button>
        </div>
    </div>
</div>

<script src="js/snake/SnakeGame.js"></script>
</body>


</html>